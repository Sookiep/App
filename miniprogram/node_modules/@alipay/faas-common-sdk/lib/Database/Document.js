"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Document=void 0;const error_1=require("../error"),Query_1=require("./Query");class Document{#e;#s;#r;constructor(t,e,r){this.#s=t,this.#r=e,this.#e=r}async update(t){return await this.#t.update(t)}async set(t){return await this.#t.set(t)}async remove(){return await this.#t.remove()}async get(){const e=(await this.#t.get())[0];if(!e){if(this.#e.throwOnNotFound)throw error_1.FaasError.NOT_FOUND_ERR(`\u4E0D\u5B58\u5728_id \u4E3A ${this.#r} \u7684\u6587\u6863`);return null}return e}get#t(){return new Query_1.Query(this.#s,this.#e).where({_id:String(this.#r)}).limit(1)}}exports.Document=Document;