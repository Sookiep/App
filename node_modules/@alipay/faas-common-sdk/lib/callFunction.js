"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCallFunction=void 0;const error_1=require("./error"),utils_1=require("./utils"),createCallFunction=o=>{const{httpclient:s}=o,c=async r=>{if(!r.name)throw error_1.FaasError.INVALID_PARAM_ERR("name","\u7F3A\u5931");const u={"x-to-function-name":r.name,"x-alipay-cloud-mode":"function"},i="POST",l="/functions/invokeFunction",t=await s.request({method:i,path:l,data:r.data,headers:u});if(t.status!==200){let n=-1,a="";const e=t.data;throw e&&({errCode:n,errMsg:a}=e,e.errDetail&&(a+=`\uFF0C\u8BE6\u60C5\uFF1A${e.errDetail}`)),error_1.FaasError.SERVER_ERR(n,a,t.requestID,t.status)}return{requestID:t.requestID,result:t.data}};return(0,utils_1.wrapCallback)(c)};exports.createCallFunction=createCallFunction;