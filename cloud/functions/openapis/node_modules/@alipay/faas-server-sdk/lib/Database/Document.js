"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Document=void 0;const errors_1=require("../errors"),Query_1=require("./Query");class Document{#t;#e;#r;constructor(e,t,r){this.#t=r,this.#r=e,this.#e=t}async update(e){return await new Query_1.Query(this.#r,this.#t).where({_id:String(this.#e)}).limit(1).update(e)}async set(e){return await new Query_1.Query(this.#r,this.#t).where({_id:String(this.#e)}).limit(1).set(e)}async remove(){return await new Query_1.Query(this.#r,this.#t).where({_id:String(this.#e)}).limit(1).remove()}async get(){const r=(await new Query_1.Query(this.#r,this.#t).where({_id:String(this.#e)}).limit(1).get())[0];if(!r)throw errors_1.errors.NOT_FOUND(`document with _id ${this.#e} does not exist`);return r}}exports.Document=Document;