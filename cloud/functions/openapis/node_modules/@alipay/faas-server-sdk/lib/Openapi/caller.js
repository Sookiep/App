"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OpenapiCaller=void 0;const errors_1=require("../errors"),middlewares_1=require("../requester/middlewares");class OpenapiCaller{#e;#t;constructor(t,r){this.#e=t,this.#t=r}async request(t,r){const s="POST",i=this.#r(),e=Object.assign({},r);e.biz_content&&typeof e.biz_content!="string"&&(e.biz_content=JSON.stringify(e.biz_content));const n=await middlewares_1.HttpRequester.openapi.request(s,i,e,{"x-openapi":t,"x-openapi-version":this.#t},{cloudConfig:this.#e});if(!n.succeed)throw errors_1.errors.CALL_OPENAPI_ERR(n);return n.data}#r(){return`${this.#e.functionGatewayEndpoint}/functions/invokeOpenapi`}}exports.OpenapiCaller=OpenapiCaller;