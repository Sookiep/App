"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.errors=exports.FunctionError=exports.ErrorCode=void 0;const node_util_1=require("node:util");var ErrorCode;(function(e){e.INVALID_PARAM="INVALID_PARAM",e.CALL_FUNCTION_ERR="CALL_FUNCTION_ERR",e.CALL_STORAGE_ERR="CALL_STORAGE_ERR",e.CALL_DATABASE_ERR="CALL_DATABASE_ERR",e.CALL_OPENAPI_ERR="CALL_OPENAPI_ERR",e.SYS_ERR="SYS_ERR",e.NOT_FOUND="NOT_FOUND"})(ErrorCode=exports.ErrorCode||(exports.ErrorCode={}));class FunctionError extends Error{code;requestId;errCode=-1;get requestID(){return this.requestId}get errMsg(){return this.message}static create(r,t,...R){const A=new FunctionError((0,node_util_1.format)(t,...R));return A.code=r,A}static createByHttpRequestFailedResult(r,t){const R=FunctionError.create(r,`requestId ${t.requestId}, ${t.errMsg}`);return R.requestId=t.requestId,R.errCode=t.errCode,R}}exports.FunctionError=FunctionError,exports.errors={INVALID_PARAM(e,r){return FunctionError.create(ErrorCode.INVALID_PARAM,`Invalid param "${e}", ${r}`)},CALL_FUNCTION_ERR(e){return FunctionError.createByHttpRequestFailedResult(ErrorCode.CALL_FUNCTION_ERR,e)},CALL_STORAGE_ERR(e){return FunctionError.createByHttpRequestFailedResult(ErrorCode.CALL_STORAGE_ERR,e)},CALL_OPENAPI_ERR(e){return FunctionError.createByHttpRequestFailedResult(ErrorCode.CALL_OPENAPI_ERR,e)},CALL_DATABASE_ERR(e){return FunctionError.createByHttpRequestFailedResult(ErrorCode.CALL_DATABASE_ERR,e)},SYS_ERR(e="\u5185\u90E8\u7CFB\u7EDF\u9519\u8BEF"){return FunctionError.create(ErrorCode.SYS_ERR,e)},NOT_FOUND(e){return FunctionError.create(ErrorCode.NOT_FOUND,e)}};